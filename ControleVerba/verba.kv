# -*- coding: utf-8 -*-
# Controle de Finanças
#:import SlideTransition kivy.uix.screenmanager.SlideTransition

<Gerenciador>:
    id:gerenciador
    Menu:
        name:'Menu'
    Adicionar:
        name: 'Adicionar'
    Visualizar:
        name: 'Visualizar'
    TelaTotal:
        name:'TelaTotal'
    Setting:
        name:'setting'

<Setting>:
    BoxLayout:
        orientation:'vertical'
        MDToolbar:
            title:'Configuração'
            elevation:10
            left_action_items:[['arrow-left-circle', lambda x: root.back_menu()]]

        ScrollView:

            BoxLayout:
                orientation:'vertical'
                size_hint_y:None
                height:self.minimum_height
                BoxLayout:
                    size_hint_y:None
                    height:'70dp'
                    canvas:
                        Color:
                            rgba: .12,.25,0,.255
                        Rectangle:
                            size:self.width, self.height - 2
                            pos:self.x,self.y + 8
                        Color:
                            rgba:1,1,1,.4
                        Rectangle:
                            size:self.width, 2
                            pos:self.x, self.y + 2

                    Label:
                        pos_hint:{'x':.6,'center_y':.5}
                        text:'[b][size=17dp][color=e8ff4cff]Selêcione o Mês[/color][/size][/b]\n  Para visualizar ou excluir'
                        bold:True
                        markup:True
                    Label:
                        size_hint_x:None
                        width:'40dp'
                    Spinner:
                        size_hint:None,None
                        width:'100dp'
                        height:'35dp'
                        pos_hint:{'center_y':.5}
                        bold:True
                        color:255, 215, 0, 1
                        values:root.spiner
                        id:spiner_month
                BoxLayout:
                    size_hint_y:None
                    height:'40dp'
                    canvas:
                        Color:
                            rgba:.16,.16,.16,.252
                        Rectangle:
                            size:self.width,self.height - 8
                            pos:self.x, self.y + 8
                        Color:
                            rgba:1,1,1,.4
                        Rectangle:
                            size:self.width,2
                            pos:self.x,self.y + 2
                BoxLayout:
                    orientation:'vertical'
                    size_hint_y:None
                    height:'90dp'
                    canvas:
                        Color:
                            rgba:.12,.25,0,.255
                        Rectangle:
                            size:self.width,self.height - 2
                            pos:self.x,self.y + 7
                        Color:
                            rgba:1,1,1,.4
                        Rectangle:
                            size:self.width,2
                            pos:self.pos
                    Label:
                        text:'      [b][size=20dp][color=e8ff4cff]Exclua o mês selêcionado[/color][/size][/b]\n  Depois de selecionar o mês acima click aqui em excluir!'
                        markup:True
                    Button:
                        size_hint:None,None
                        width:'100dp'
                        height:'35dp'
                        pos_hint:{'center_x':.5}
                        text:"Excluir"
                        bold:True
                        color:255, 215, 0, 1
                        on_release:root.popap2()
                    Label:
                        size_hint_y:None
                        height:'5dp'
                Label:
                    size_hint_y:None
                    height:'10dp'
                BoxLayout:
                    size_hint_y:None
                    height:'40dp'
                    canvas:
                        Color:
                            rgba:.16,.16,.16,.252
                        Rectangle:
                            size:self.width,self.height - 8
                            pos:self.x, self.y + 8
                        Color:
                            rgba:1,1,1,.4
                        Rectangle:
                            size:self.width,2
                            pos:self.x,self.y + 2
                    Label:
                        text:'% [color=e8ff4cff]Porcentagen[/color] %'
                        markup:True

                BoxLayout:
                    orientation:'vertical'
                    size_hint_y:None
                    height:'90dp'
                    canvas:
                        Color:
                            rgba:.12,.25,0,.255
                        Rectangle:
                            size:self.width, self.height - 8
                            pos:self.x, self.y + 8
                        Color:
                            rgba:1,1,1,.4
                        Rectangle:
                            size:self.width, 2
                            pos:self.pos
                    Label:
                        size_hint_y:None
                        height:'10dp'
                        font_size:'15sp'
                        text:'Defina a sua porcentagen a baixo'
                    BoxLayout:
                        size_hint_x:None
                        width:'80dp'
                        pos_hint:{'center_x':.5}
                        TextInput:
                            size_hint:None,None
                            width:'40sp'
                            height:'30sp'
                            multiline:False
                            id:df_porcentagen
                        Label:
                            size_hint_x:None
                            width:'20dp'
                            font_size:'20sp'
                            pos_hint:{'center_x':.01}
                            text:'%'
                    Label:
                        canvas:
                            Color:
                                rgba:.12,.12,0,.300
                            Rectangle:
                                size:self.width, self.height - 8
                                pos:self.x, self.y + 8
                        text:'Apos inserir a porcentagem o progrâma\n recebe automaticamente o valor!'

                BoxLayout:
                    size_hint_y:None
                    height:'70dp'
                    canvas:
                        Color:
                            rgba:.12,.25,0,.255
                        Rectangle:
                            size:self.width, self.height - 8
                            pos:self.x, self.y + 8
                        Color:
                            rgba:1,1,1,.4
                        Rectangle:
                            size:self.width, 2
                            pos:self.pos
                    Label:
                        text:'                          [b][size=20dp][color=e8ff4cff][u]Fechamento do Mês![/u][/color][/size][/b]\n    Exemplo:  dia 05 até 20,\n    se não for inserido nenhum vâlor o mês abre dia 1° '
                        markup:True


                BoxLayout:
                    size_hint_y:None
                    height:'50dp'
                    canvas:
                        Color:
                            rgba:root.cor
                        Rectangle:
                            size:self.width, self.height - 3
                            pos:self.x, self.y + 10
                        Color:
                            rgba:1,1,1,.4
                        Rectangle:
                            size:self.width, 2
                            pos:self.x, self.y
# MDSWITCH ==============
                    MDSwitch:
                        thumb_color_down:app.theme_cls.accent_color
                        width:'50dp'
                        active:True
                        on_active: root.ativo()
                        id:switch

                    Label:
                        text:'Dia'
                        id:dia
                    TextInput:
                        size_hint:None,None
                        width:'40sp'
                        height:'30sp'
                        pos_hint:{'center_y':.5}
                        readonly:True
                        id:fechamento1

                    Label:
                        text:'Até'
                        id:ate
                    TextInput:
                        size_hint:None,None
                        width:'40sp'
                        height:'30sp'
                        pos_hint:{'center_y':.5}
                        multiline:False
                        id:fechamento2
                    Label:
                Snackbar:



                Widget:
                    size_hint_y:None
                    height:'20dp'
                    canvas:
                        Color:
                            rgba:.12,.25,0,.255
                        Rectangle:
                            size:self.size
                            pos:self.pos


                BoxLayout:
                    orientation:'vertical'
                    size_hint_y:None
                    height:'90dp'
                    canvas:
                        Color:
                            rgba:.12,.25,0,.255
                        Rectangle:
                            size:self.width,self.height - 8
                            pos:self.x,self.y + 8
                        Color:
                            rgba:1,1,1,.4
                        Rectangle:
                            size:self.width,2
                            pos:self.x, self.y + 2
                    Label:
                        text:'[b][size=25dp][color=7f0000ff]Limpar o diretorio de arquivos[/color][/size][/b]\n  Se limpar o diretório você estára\n  apagando todos os  "Mêses"  salvos!'
                        markup:True
                    Label:
                        size_hint_y:None
                        height:'10dp'
                    Button:
                        size_hint:None,None
                        width:'80dp'
                        height:'30dp'
                        pos_hint:{'center_x':.5}
                        background_color:1,0,0,1
                        color:1,1,1,1
                        text:'Limpar'
                        on_release:root.popap()
                    Label:
                        size_hint_y:None
                        height:'5dp'

<Menu>:
    canvas:
        Rectangle:
            size:self.size
            source:'image/textura.png'

    BoxLayout:
        BoxLayout:
            FloatLayout:
                Label:
                    size_hint_x:.15
                    pos_hint:{'center_x':.85,'center_y':.9}
                    font_size:self.width + 5
                    bold:True
                    color:0,1,1,1
                    text:'Controle Financeiro'
                    id:lb_menu
                    underline:True
                    outline_width:2
                #                outline_color:1,0,0
                #                disabled_outline_color:True

                # Sonbras
                BoxLayout:
                    size_hint:None,.17
                    width:'108dp'
                    pos_hint:{'center_x':.595,'center_y':.704}
                    canvas:
                        Color:
                            rgba:1,1,1,1
                        Ellipse:
                            pos:self.pos
                            size:self.size

                BoxLayout:
                    size_hint:None,.15
                    width:'100dp'
                    pos_hint:{'center_x':.6,'center_y':.7}
                    canvas:
                        Color:
                            rgb:1,1,1,1
                        Ellipse:
                            pos:self.pos
                            size:self.size
                            source:'image/telaAdd.png'

                # Sonbras
                BoxLayout:
                    size_hint:None,.17
                    width:'108dp'
                    pos_hint:{'center_x':.595,'center_y':.49}
                    canvas:
                        Color:
                            rgba:1,1,1,1
                        Ellipse:
                            pos:self.pos
                            size:self.size

                BoxLayout:
                    size_hint:None,.15
                    width:'100dp'
                    pos_hint:{'center_x':.6,'center_y':.49}
                    canvas:
                        Color:
                            rgb:1,1,1,1
                        Ellipse:
                            size:self.size
                            pos:self.pos
                            source:'image/minhaTela.png'

                # Sonbras
                BoxLayout:
                    size_hint:None,.17
                    width:'108dp'
                    pos_hint:{'center_x':.595,'center_y':.28}
                    canvas:
                        Color:
                            rgba:1,1,1,1
                        Ellipse:
                            pos:self.pos
                            size:self.size
                BoxLayout:
                    size_hint:None,.15
                    width:'100dp'
                    pos_hint:{'center_x':.6,'center_y':.28}
                    canvas:
                        Color:
                            rgb:1,1,1,1
                        Ellipse:
                            size:self.size
                            pos:self.pos
                            source:'image/dividir2.png'

            BoxLayout:
                orientation:'vertical'
                size_hint_y:.7
                padding:'10sp'
                spacing:'3dp'
                pos_hint:{'center_y':.42}
                FloatLayout:
                    Button:
                        size_hint_y:.15
                        border:0,0,0,0
                        bold:True
                        background_color:0,0,0,0
                        pos_hint:{'center_x':.1,'center_y':.91}
                        on_release:app.root.current = 'Adicionar'
                        on_press:root.press_bt(image_adicionar)
                        Image:
                            id:image_adicionar
                            source:'image/botaoVidro.png'
                            size_hint:None,None
                            width:'200dp'
                            height:'4000dp'
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y
                        Label:
                            text:'Adicionar'
                            font_size:'30sp'
                            outline_width:3
                            outline_color:0,0,0
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y



                    Button:
                        size_hint_y:.15
                        pos_hint:{'center_x':.1,'center_y':.6}
                        background_color:0,0,0,0
                        on_release: app.root.current = 'Visualizar'
                        on_press:root.press_bt(image_visualizar)
                        Image:
                            id:image_visualizar
                            source:'image/botaoVidro.png'
                            size_hint:None,None
                            width:'200dp'
                            height:'4000dp'
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y
                        Label:
                            font_size:sp('30')
                            bold:True
                            text:'Visualizar'
                            outline_width:3
                            outline_color:0,0,0
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y


                    Button:
                        size_hint_y:.15
                        font_size:sp('30')
                        bold:True
                        background_color:0,0,0,0
                        pos_hint:{'center_x':.1,'center_y':.3}
                        on_release: app.root.current = 'TelaTotal'
                        on_press:root.press_bt(image_total)
                        Image:
                            id:image_total
                            source:'image/botaoVidro.png'
                            size_hint:None,None
                            width:'200dp'
                            height:'4000dp'
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y
                        Label:
                            font_size:sp('30')
                            bold:True
                            text:'Total'
                            outline_width:3
                            outline_color:0,0,0
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y


                    Button:
                        size_hint:None,None
                        width:'65dp'
                        height:'30dp'
                        background_color:0,0,0,0
                        pos_hint:{'center_x':.5}
                        pos_hint:{'center_x':.1,'center_y':.1}
                        on_release:app.stop()
                        on_press:root.press_bt(image_sair)
                        Image:
                            id:image_sair
                            source:'image/botaoVidro.png'
                            size_hint:None,None
                            width:'100dp'
                            height:'150dp'
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y
                        Label:
                            text:'Sair'
                            outline_width:3
                            outline_color:0,0,0
                            center_x:self.parent.center_x
                            center_y:self.parent.center_y

                    BoxLayout:
                        size_hint:None,None
                        width:'150'
                        height:'50'
                        pos_hint:{'right':.9,'y':-.1}
                        MDIcon:
                            size_hint_x:None
                            width:'30dp'
#                            color:1,0,0,1
#                            icon:'arrow-right-bold-outline'
                            halign:'center'
                            pos_hint:{'center_y':.25}
                            id:mdicon
                        Botaos:
                            size_hint:None,None
                            width:'60dp'
                            height:'25dp'
                            text:'Fechar Mês'
                            font_size:'10dp'
                            pos_hint:{'right':.9,'center_y':.3}
                            id:bt_active
                            disabled:True
                            active:True
                            outline_width:3
                            outline_color:0,0,0
#                            on_release:root.close_day()
                            on_release:root.pop_opcao()



<CorAdicionar@Label>:
    canvas.before:
        Color:
            rgba:.35,.35,.35,.255
#            rgba:.5,.5,.5,1
        Rectangle:
            size:self.size
            pos:self.pos

<Adicionar>:
    BoxLayout:
        orientation:'vertical'
        MDToolbar:
            title:'Adicionar Serviços'
            elevation:10
            left_action_items:[['arrow-left-circle', lambda x: root.back_menu()]]
            right_action_items:[['dots-vertical', lambda x: root.go_setting()]]
        MDBoxLayout:
            size_hint_y:None
            height:'10dp'
        MDCard:
            orientation:'vertical'
            size_hint:.9,.9
            pos_hint:{'center_x':.5}
            focus_behavior: False
            md_bg_color:app.theme_cls.accent_color
            BoxLayout:

            MDBoxLayout:
                size_hint_y:None
                height:'40dp'
                Label:
                    size_hint_x:None
                    width:'100sp'
                    text:'Modelo'
                    color: 0.5,0.9,0.7,1
                    font_size:'20sp'
                    bold:True
                    outline_width:2
                    id:modelo
                MDTextFieldRound:
                    hint_text:'Veiculo'
                    icon_right:'car'
                    size_hint:5,None
                    height:'30sp'
                    pos_hint:{'center_x':.8,'center_y':.5}
#                    multiline:False
                    id:text_modelo

                Label:

            BoxLayout:
                size_hint_y:None
                height:'40dp'
                Label:
                    size_hint_x:None
                    width:'100sp'
                    text:'Local'
                    color: 0.5,0.9,0.7,1
                    font_size:sp('20')
                    bold:True
                    outline_width:2
                    id:local
                MDTextFieldRound:
                    hint_text:'Rua/Av...'
                    icon_right:'road-variant'
                    size_hint:5,None
                    height:'30sp'
                    pos_hint:{'center_y':.5}
                    multiline:False
                    id:text_local
                Label:

            BoxLayout:
                size_hint_y:None
                height:'40dp'
                Label:
                    size_hint_x:None
                    width:'100sp'
                    text:'Valor'
                    pos_hint:{'x':.15}
                    color: 0.5,0.9,0.7,1
                    font_size:'20sp'
                    bold:True
                    outline_width:2
                    id:valor
                Label:
                    size_hint_x:None
                    width:dp('20')
                    outline_width:1
                    text:'R$'
                    color:1,1,1,1
                    pos_hint:{'center_x':.2}
                Label:
                    size_hint_x:None
                    width:'20dp'
                MDTextFieldRound:
                    hint_text:'R$:'
                    icon_right:'cash'
                    size_hint:.9,None
                    height:'30sp'
                    pos_hint:{'center_x': .8,'center_y':.5}
#                    multiline:False
                    id:text_valor
                MDLabel:
                    size_hint_x:.8
            BoxLayout:
                Label:
                    color:0,0,0,1
                    text:'Adicione a cima o modelo do carro/moto, \nlocal e valor'
                    multiline:True
                    id:mensagen_add

    # Aqui adiciona os gastos
        FloatLayout:
            MDCard:
                elevation:15
#                focus_behavior:True
                orientation:'vertical'
                size_hint:.9,.9
                pos_hint:{'center_x':.5,'center_y':.5}
                spacing:'25sp'
#                radius:40,40,40,40
                md_bg_color:app.theme_cls.accent_color

                Label:
                    text:'Valores gastos'
                    id:valor_gastos
                    font_size:'25sp'
                    color: 1,0,0,1
                    outline_width:3
                    outline_color:0,0,0,1
                    underline:3
                    pos_hint:{'center_x':.5,'center_y':1}


                BoxLayout:
                    size_hint_y:None
                    height:'20dp'
                    Label:
                        size_hint_x:None
                        width:'100sp'
                        pos_hint:{'center_x':.15,'center_y':.8}
                        text:'Eventos'
                        color: 1,0,0,1
                        font_size:sp('20')
                        outline_width:2
                        outline_color:0,0,0,1
                        bold:True
                    Widget:
                        size_hint_x:None
                        width:'10dp'

                    MDTextFieldRound:
                        hint_text:'Ex:/gasolina/pedagio/outros'
                        icon_right:'engine'
                        size_hint:5,None #dp.2,.05
                        height:'30sp'
                        pos_hint:{'center_x':.9,'center_y':.8}
#                        multiline:False
                        id:text_eventos
                    Label:

                BoxLayout:
                    size_hint_y:None
                    height:'20dp'
                    Label:
                        size_hint_x:None
                        width:'100sp'
                        text:'Gastos'
                        pos_hint:{'center_x':.5,'center_y':.8}
                        color: 1,0,0,1
                        font_size:sp('20')
                        outline_width:2
                        outline_color:0,0,0,1
                        bold:True
                    Label:
                        size_hint_x:None
                        width:dp('20')
                        color: 1,0,0,1
                        text:'R$'
                        outline_width:2
                        outline_color:0,0,0,1
                        pos_hint:{'center_x':.2,'center_y':.8}
                    Label
                        size_hint_x:None
                        width:'20dp'
                    MDTextFieldRound:
                        hint_text:'R$:'
                        icon_right:'cash'
                        size_hint:.8,None
                        height:'30dp'
                        pos_hint:{'center_x':.3,'center_y':.8}
#                        multiline:False
                        id:text_gastos
                    Label:
                        size_hint_x:.8
                BoxLayout:
                    MDLabel:
                        color:0,0,0,1
                        text:'Adicione os gastos com eventos ocorridos e\n valores. '
                        multiline:True
                        markup:True
                        id:mensagen_gastos
            FloatLayout:
                size_hint:.1,.2
                canvas:
                    Rectangle:
                        size:self.size
                        pos:20,120
                        source:'image/conserto.png'

        BoxLayout:
            size_hint_y:None
            height:'60dp'
            FloatLayout:
                Button:
                    size_hint:None,None
                    width:'100dp'
                    height:'30dp'
                    pos_hint:{'center_x':.1 }
                    text:'visualizar'
                    bold:True
                    background_color: 0,.5,1,1
                    outline_width:1
                    on_release:app.root.current = 'Visualizar'

                Button:
                    size_hint:None,None
                    width:'100dp'
                    height:'30dp'
                    pos_hint:{'center_x':.5}
                    text:'Salvar'
                    bold:True
                    background_color: 0,.5,1,1
                    outline_width:1
                    on_release:root.save_data()

                Button:
                    size_hint:None,None
                    width:'100dp'
                    height:'30dp'
                    pos_hint:{'center_x':.9}
                    text:'Total'
                    bold:True
                    background_color: 0,.5,1,1
                    outline_width:1
                    on_release:app.root.current = 'TelaTotal'




<CorFund@Label>:
    # class da cor de fundo
    canvas.before:
        Color:
            rgba:.35,.35,.35,.255
        Rectangle:
            source:'image/papel.png'
            size:self.size
            pos:self.pos

<Visualizar>:
    CorFund:
    BoxLayout:
        orientation:'vertical'
        MDToolbar:
            title:'Visualizar Serviços'
            elevation:10
            left_action_items:[['arrow-left-circle', lambda x: root.back_menu()]]
            right_action_items:[['dots-vertical', lambda x: root.back_setting()]]

        BoxLayout:
            padding:10
            orientation:'vertical'
            size_hint_y:None
            height:sp('60')
            canvas:
                Color:
                    rgba:0,0,0,1
                Rectangle:
                    size:self.width,5
                    pos:self.pos
            Label:
                #Label: Data, Modelo, Local, Valor
                size_hint_x:.03
                font_size:self.width
                color:.5,0,0,1
                bold: True
                pos_hint:{'x':.45,'center_y':1}
                id:super_modelo_text

        BoxLayout:
            id:box_valor
            ScrollView:
#               para ser adicionado os valores aqui
                BoxLayout:
                    orientation:'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    id: coteiner
        MDBoxLayout:
            size_hint_y:None
            height:'30sp'
            md_bg_color:app.theme_cls.primary_color
            MDRectangleFlatButton:
                size_hint_y:None
                height:'30dp'
                text_color:1,0,0,1
                line_color:0,0,0,1
                text:"Mostrar"
                on_release:root.pop_fechados()
            Label:
                bold:True
                font_size:30
                color:0,0,0,1
                id:total_valor



<Box>:
    # A widget dos Valores para ser adicionado a Visualizar
    size_hint_y:None
    height: sp('50')
    ScrollView:
        orientation:'horizontal'
        BoxLayout:
            padding:10
            orientation:'vertical'
            size_hint_y:None
            height: sp('50')
            canvas:
                Color:
                    rgba:.2,.4,.5,.5
                Rectangle:
                    size:self.width - 8, self.height - 8
                    pos:self.x + 6,self.y + 8
                Color:
                    rgba:0,0,0,1
                Rectangle:
                    size:self.width,3
                    pos:self.pos
            Label:
                size_hint_x:.03
                font_size:self.width
                text_size:None,None
                pos_hint:{'center_x':.5,'center_y':.5}
                id:texto
    Button:
        size_hint:None,None
        width:'30sp'
        height:'40sp'
        pos_hint:{'center_y':.5}
        background_color:1,0,0,1
        text:'X'
        on_release:app.root.get_screen('Visualizar').popap(root) # app.root.get_screen('TelaTotal').popap(root)

<Box_Total>:
    # A widget dos Valores para ser adicionado a TelaTotal
#    orientation:'vertical'
    size_hint_y:None
    height: sp('50')
    BoxLayout:
        padding:10
        orientation:'vertical'
        size_hint_y:None
        height: sp('50')
        canvas:
            Color:
                rgba:.2,.4,.5,.5
            Rectangle:
                size:self.width, self.height - 8
                pos:self.x, self.y + 8
            Color:
                rgba:0,0,0,1
            Rectangle:
                size:self.width, 3
                pos:self.pos
        Label:
            size_hint_x:.03
            font_size:'15sp'
            text_size:None,None
            pos_hint:{'center_x':.5,'center_y':0}
            id:texto
    Button:
        size_hint:None,None
        width:'30sp'
        height:'40sp'
        pos_hint:{'center_y':.5}
        background_color:1,0,0,1
        text:'X'
        on_release:app.root.get_screen('TelaTotal').popap(root)
        id:bt_box_total

<BiforeTotal>:
    size_hint_y:None
    height: sp(50)

    Label:
        size_hint_y:None
        height:'40dp'
        size_hint_x:.03
        font_size:'12dp'
        markup:True
        outline_width:1
#        text_size:None,None
#        enable:True
        id:biforetotal


<TelaTotal>:
    BoxLayout:
        orientation:'vertical'
        spacing:'15dp'

        MDToolbar:
            title:'TELA TOTAL'
            elevation:10
            right_action_items:[['dots-vertical', lambda x: root.back_setting()]]
            left_action_items:[['arrow-left-circle', lambda x: root.back_menu()]]

        BoxLayout:
            orientation:'vertical'
            FloatLayout:
                Label:
                    size_hint:None,None
                    size:(.2,.2)
                    pos_hint:{'center_x':.2,'center_y':.99}
                    text:'Somas dos Valores:'
                Label:
                    pos_hint:{'x':.0,'center_y':.99}
                    font_size:'20sp'
                    underline:True
                    id: Valor_soma
                BoxLayout:
                    size_hint_y:.01
                    pos_hint:{'center_x':.5,'center_y':.88}
                    canvas:
                        Color:
                            rgba:.35,.35,.35,.255
                        Rectangle:
                            size:self.width, self.height - 8
                            pos:self.x,self.y + 5
                        Color:
                            rgba:.34,.34,.34,.555
                        Rectangle:
                            size:self.width,2
                            pos:self.pos
                BoxLayout:
                    size_hint_y:.15
                    pos_hint:{'center_x':.5,'center_y':.8}
                    canvas:
                        Color:
                            rgba:.35,.35,.35,.255
                        Rectangle:
                            size:self.width, self.height - 8
                            pos:self.x,self.y + 5
                        Color:
                            rgba:.34,.34,.34,.555
                        Rectangle:
                            size:self.width,2
                            pos:self.pos
                    Label:
#                        pos_hint:{'center_x':.5,'center_y':.8}
                        font_size:'20sp'
                        underline:True
                        outline_width:3
                        outline_color:0,0,0,1
                        bold:True
                        text:'--------> Divisão <--------'

                Label:
                    size_hint_x:None
                    x:.05
                    pos_hint:{'right':.43,'center_y':.6}
                    font_size:'25sp'
                    bold:True
                    color:1,0,0,1
#                    text:'60% :'
                    id:label_main

                Label:
                    font_size: '15sp'
                    pos_hint:{'x':.15,'center_y':.6}
                    id:valor_main

                Label:
                    size_hint_x:None
                    x:.05
                    pos_hint:{'right':.43,'center_y':.4}
                    font_size:'25sp'
                    bold:True
                    color:1,0,0,1
#                    text:'40% : '
                    id:label_sobra
                Label:
                    font_size:'15sp'
                    pos_hint:{'x':.15,'center_y':.4}
                    id:valor_sobra
                BoxLayout:
                    size_hint_y:.01
                    pos_hint:{'center_x':.5,'center_y':.28}
                    canvas:
                        Color:
                            rgba:.35,.35,.35,.255
                        Rectangle:
                            size:self.width, self.height - 8
                            pos:self.x,self.y + 5
                        Color:
                            rgba:.34,.34,.34,.555
                        Rectangle:
                            size:self.width,2
                            pos:self.pos

                BoxLayout:
                    size_hint_y:.25
                    pos_hint:{'center_x':.5,'center_y':.15}
                    canvas:
                        Color:
                            rgba:.35,.35,.35,.255
                        Rectangle:
                            size:self.width, self.height - 8
                            pos:self.x,self.y + 5
                        Color:
                            rgba:.34,.34,.34,.555
                        Rectangle:
                            size:self.width,2
                            pos:self.pos
                    Label:
                        pos_hint:{'center_x':.5,'center_y':.5}
                        outline_width:2
                        color:0,0,1,1
                        bold:True
                        markup:True
                        text:'[b][size=25dp][u]             --------> Gastos <---------             [/u][/size][/b]\n[color=ffffff][size=13dp]                 Os gastos não estão somados na porcentagem da divisão[/size][/color]'
            Carousel:
                id:carrocel
                BoxLayout:
                    orientation:'vertical'
                    canvas:
                        Rectangle:
                            size:self.width,self.height
                            pos:self.pos
                            source:'image/textura.png'

                    ScrollView
                        orientation:'vertical'
                        BoxLayout:
                            orientation:'vertical'
                            size_hint_y:None
                            height: self.minimum_height
                            id:gastos

                    BoxLayout:
                        size_hint_y:None
                        height:'30sp'
                        canvas:
                            Color:
                                rgba:0,0,0,.5
                            Rectangle:
                                pos:self.x,self.y
                                size:self.width, self.height

                        Label:
                            font_size:'20sp'
                            id:total_gastos

                        Button:
                            size_hint_x:None
                            width:'70dp'
                            bold:True
                            color:1,0,0,.7
                            font_size:'40dp'
                            outline_width:2
                            outline_color:0,0,0,1
                            text:'>'
                            on_release:carrocel.load_next() , root.atualizar_rst()
                BoxLayout:
                    spacing:'11dp'
                    padding:'5dp'
                    BoxLayout:
                        orientation:'vertical'
                        MDCard:
                            orientation:'vertical'
                            elevation:2
                            radius:40,40,40,40
                            border:(33,33,33,33)
                            md_bg_color:app.theme_cls.primary_color

                            MDLabel:
                                size_hint_y:None
                                height:'15dp'
                                text:"Porcentagen dos gastos"
                                color:.3,0,.7,1
                                bold:True
                                underline:True
    #                            font_size:self.height + 20
                            Label:
                                size_hint_y:None
                                height:300
                                color:0,0,0,1
                                markup:True
                                id:porc_gasto
                            Widget:
                                size_hint_y:None
                                height:'10dp'

                        BoxLayout:
                            size_hint_y:None
                            height:'30dp'
                            Button:
                                size_hint_x:None
                                width:'70dp'
                                color:1,0,0,.7
                                font_size:'40dp'
                                outline_width:2
                                outline_color:0,0,0,1
                                text:'<'
                                on_release:carrocel.load_previous()
                    MDCard:
                        orientation:'vertical'
                        elevation:11
                        size_hint_y:.87
                        pos_hint:{'center_y':.57}
                        radius:50,50,50,50
                        md_bg_color:app.theme_cls.accent_color
                        id:card
                        ScrollView
                            orientation:'vertical'
                            BoxLayout:
                                orientation:'vertical'
                                size_hint_y:None
                                height:self.minimum_height
                                id:show_gastos
                        MDBoxLayout:
                            size_hint_y:None
                            height:'30dp'
                            MDLabel:
                                font_size:'13sp'
                                size_hint_x:None
                                width:'100dp'
                                bold:True
                                text:'Fechados Total:'
                            MDLabel:
                                size_hint_x:None
                                width:'50dp'
                                id:valor_total_fechado